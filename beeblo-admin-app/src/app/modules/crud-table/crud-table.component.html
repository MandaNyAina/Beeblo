<div class="crud-table">
    <div class="header">
      <div class="">
        <button class="btn btn-success p-mr-2" (click)="openNew()">
          Nouveau
          <i class="pi pi-plus"></i>
        </button>
        <input type="text" [(ngModel)]="searchValue" (input)="onSearch()" placeholder="Rechercher" class="float-right form-control w-25"/>
      </div>
    </div>

    <div>
      <h3>{{title}}</h3>
    </div>

    <p-table #dt [value]="data" [lazy]="true" (onLazyLoad)="reloadData($event)"
      styleClass="p-datatable-responsive p-datatable-sm"
      [globalFilterFields]="globalFilter"
      [rowHover]="true" dataKey="globalFilter[0]"
      [paginator]="true" [rows]="10" [totalRecords]="totalRecords" [loading]="loading"
      [(selection)]="selectedData">
      <ng-template pTemplate="header">
          <tr>
              <th class="center-text" *ngFor="let column of header"
                [ngStyle]="{'width': column.width+'px'}">
                {{column.name}}
              </th>
              <th style="width: 4rem" >Action</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-items>
          <tr>
            <td class="center-text" *ngFor="let filter of filterField">{{items[filter.key]}}</td>
            <td>
              <button (click)="onEditLine(items)" pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success p-mr-2"></button>
              <button (click)="deleteOnRow(items)" pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning"></button>
            </td>
          </tr>
      </ng-template>
  </p-table>
  <p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>
</div>
