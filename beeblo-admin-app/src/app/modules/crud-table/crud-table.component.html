<div>
    <div class="header">
      <div class="">
        <button class="btn btn-success p-mr-2" (click)="openNew()">
          Nouveau
          <i class="pi pi-plus"></i>
        </button>
        <button icon="pi pi-trash" class="btn btn-danger" (click)="deleteSelecteData()" [disabled]="!selectedData || !selectedData.length">
          <i class="pi pi-trash"></i>
        </button>
        <input type="text" [(ngModel)]="searchValue" (change)="onSearch()" placeholder="Rechercher" class="float-right form-control w-25"/>
      </div>
    </div>

    <div>
      <h2>{{title}}</h2>
    </div>

    <p-table [value]="data" [lazy]="true" (onLazyLoad)="reloadData($event)"
      styleClass="p-datatable-responsive"
      [paginator]="true" [rows]="10" [totalRecords]="totalRecords" [loading]="loading"
      [(selection)]="selectedData">
      <ng-template pTemplate="header">
          <tr>
              <th style="width: 3rem"><p-tableHeaderCheckbox ></p-tableHeaderCheckbox></th>
              <th *ngFor="let column of header">
                {{column.name}}
              </th>
              <th style="width: 8rem" >Action</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-customer>
          <tr *ngFor="let item of data">
              <td>
                <p-tableCheckbox [value]="data"></p-tableCheckbox>
              </td>
              <td *ngFor="let filter of filterField">{{item[filter.key]}}</td>
              <td>
                <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success p-mr-2"></button>
                <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning"></button>
            </td>
          </tr>
      </ng-template>
  </p-table>
</div>
